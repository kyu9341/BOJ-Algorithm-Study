# Problem 6064

## 카잉 달력

### 문제
최근에 ICPC 탐사대는 남아메리카의 잉카 제국이 놀라운 문명을 지닌 카잉 제국을 토대로 하여 세워졌다는 사실을 발견했다. 카잉 제국의 백성들은 특이한 달력을 사용한 것으로 알려져 있다. 그들은 M과 N보다 작거나 같은 두 개의 자연수 x, y를 가지고 각 년도를 <x:y>와 같은 형식으로 표현하였다. 그들은 이 세상의 시초에 해당하는 첫 번째 해를 <1:1>로 표현하고, 두 번째 해를 <2:2>로 표현하였다. <x:y>의 다음 해를 표현한 것을 <x':y'>이라고 하자. 만일 x < M 이면 x' = x + 1이고, 그렇지 않으면 x' = 1이다. 같은 방식으로 만일 y < N이면 y' = y + 1이고, 그렇지 않으면 y' = 1이다. <M:N>은 그들 달력의 마지막 해로서, 이 해에 세상의 종말이 도래한다는 예언이 전해 온다.

예를 들어, M = 10 이고 N = 12라고 하자. 첫 번째 해는 <1:1>로 표현되고, 11번째 해는 <1:11>로 표현된다. <3:1>은 13번째 해를 나타내고, <10:12>는 마지막인 60번째 해를 나타낸다.

네 개의 정수 M, N, x와 y가 주어질 때, <M:N>이 카잉 달력의 마지막 해라고 하면 <x:y>는 몇 번째 해를 나타내는지 구하는 프로그램을 작성하라.

### 입력
입력 데이터는 표준 입력을 사용한다. 입력은 T개의 테스트 데이터로 구성된다. 입력의 첫 번째 줄에는 입력 데이터의 수를 나타내는 정수 T가 주어진다. 각 테스트 데이터는 한 줄로 구성된다. 각 줄에는 네 개의 정수 M, N, x와 y가 주어진다. (1 ≤ M, N ≤ 40,000, 1 ≤ x ≤ M, 1 ≤ y ≤ N) 여기서 <M:N>은 카잉 달력의 마지막 해를 나타낸다.

### 출력
출력은 표준 출력을 사용한다. 각 테스트 데이터에 대해, 정수 k를 한 줄에 출력한다. 여기서 k는 <x:y>가 k번째 해를 나타내는 것을 의미한다. 만일 <x:y>에 의해 표현되는 해가 없다면, 즉, <x:y>가 유효하지 않은 표현이면, -1을 출력한다.

### 문제 링크
<https://www.acmicpc.net/problem/6064>

### 예제 입력 1
3
10 12 3 9
10 12 7 2
13 11 5 6

### 예제 출력 1
33
-1
83

### solve
- 날짜 계산 문제와 아주 유사한 문제이다. 하지만 N, M의 제한이 4만씩이기 때문에
- 모든 경우를 다 본다면 16억번의 연산이 필요하다. 무조건 시간초과가 걸린다는 뜻이다.
- 따라서, 모든 경우를 다 보지 않고 필요한 경우만 확인하고 나머지는 건너 뛰면서 해결해야 한다.
- <1, 1>부터 <x, y> 가 나오는 경우를 찾으면 되는데, M과 N이 주어지고 x와 y도 알고 있으므로
	- 예를 들어, M=5, N=7일때, <x, y>가 <3, 6>을 구하라고 한다면
		- x가 3인경우만을 확인하며 그때의 y값이 6이라면 답을 찾게 되는 것이다.
- 이를 편하게 구하기 위해 나머지 연산을 이용하면 되는데, 1부터 1씩 증가하는 값을 a라고 하면
- a를 각각 M과 N으로 나눈 나머지를 구하면서 값을 확인하면 된다. ( <a%M, a%N> )
	- 이때, 예외가 있는데 a가 M인 경우 즉, M=5, N=7라면 <5, 5>가 아닌 <0, 5>가 된다.
	- 이런 경우(a가 5의 배수인 경우) 0을 5로 바꾸어 계산해야 한다.
	- 이런 과정이 귀찮다면 모든 a에 먼저 -1을 해준 다음 M(5)으로 나눈 나머지를 구해서 그 결과에 1만 더해주면
	- 따로 예외처리를 하지 않아도 된다.
- 이 문제에서는 x, y에서 먼저 -1을 해준 다음 k를 x부터 m씩 더해주며 반복하다가
- k % n이 y와 일치할 때 반복문을 빠져나오면 된다. 즉, x를 고정시키고 y가 일치하는 경우를 찾은 것이다.

### 코드 설명
- 이렇게 짜면 시간 초과
```C++

#include<iostream>

using namespace std;

int main(void)
{
	ios_base::sync_with_stdio(false);
	cin.tie(NULL);
	int t; // testcase
	cin >> t;

	while (t--)
	{
		int m, n, x, y;
		int k = 1; // k번째 해(출력)
		cin >> m >> n >> x >> y;
		int X, Y;
		X = Y = 1;  // 1로 초기화

		while (true)
		{
			if (X == x && Y == y) // x, y가 몇 번째 해인지 찾은 경우
				break;
			if (X == m && Y == n)
			{
				k = -1;
				break;
			}
			X++;
			Y++;
			k++;
			if (X > m)
				X = 1;
			if (Y > n)
				Y = 1;

		}
		cout << k << '\n';
	}
}

```
- 정답 코드
```cpp

#include<iostream>

using namespace std;

int main(void)
{
	ios_base::sync_with_stdio(false);
	cin.tie(NULL);
	int t; // testcase
	cin >> t;

	while (t--)
	{
		int m, n, x, y;
		cin >> m >> n >> x >> y;
		x--; // x와 y에서 1씩 빼준다.
		y--; // 나머지 연산을 편하게 하기 위해
		bool ok = false; // <x:y>가 유효한 표현이지 확인
		for (int k = x; k < n * m; k+=m)
		{
			if (k % n == y)
			{
				cout << k + 1 << '\n'; // 먼저 x, y에서 1을 빼고 계산했으므로 1더하여 출력
				ok = true; // 유효한 경우
				break;
			}
		}

		if (!ok)  // 유효한 경우가 없을 시 -1출력
			cout << -1 << '\n';

	}

}
```
